<h1>カレンダー</h1>

<% today = Date.today %>
<% now = Date.current %>
<table border="1">
 <caption><%= now.strftime('%Y年%m月') %></caption>
 <tr height="50px">
   <th width="80px" style="background: blue;"><span style="color: white;">日</span></th>
   <th width="80px" style="background: blue;"><span style="color: white;">月</span></th>
   <th width="80px" style="background: blue;"><span style="color: white;">火</span></th>
   <th width="80px" style="background: blue;"><span style="color: white;">水</span></th>
   <th width="80px" style="background: blue;"><span style="color: white;">木</span></th>
   <th width="80px" style="background: blue;"><span style="color: white;">金</span></th>
   <th width="80px" style="background: blue;"><span style="color: white;">土</span></th>
 </tr>
 <tr>
<% month = now.strftime('%m') %>
<% d = now.at_beginning_of_month.at_beginning_of_week(:sunday) %>
<% 1.upto(5).each do |i| %>
  <tr height="80px">
<% (d..d.end_of_week(:sunday)).each do |c| %>
    <td align="center" style="background: <%= (c == today) ? "gray" : "white" %>;">
      <%= (c.strftime('%m') == month) ? c.strftime('%d') : " " %>
    </td>
<% end %>
  </tr>
<% d = d + 1.week %>
<% end %>
</table>    


